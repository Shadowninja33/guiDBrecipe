(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(199)},123:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),s=(a(123),a(8)),l=a(9),o=a(12),u=a(11),m=a(13),d=a(18),h=a(21),p=a.n(h),f=a(36),g=(a(126),a(68)),E=a.n(g),v=a(53),b=a.n(v),y=(a(127),a(15)),w=a.n(y),k=function(){function e(){Object(s.a)(this,e),this.URL="http://ec2-18-222-255-36.us-east-2.compute.amazonaws.com:4000"}return Object(l.a)(e,[{key:"login",value:function(e){var t=this;return new Promise(function(a,n){return w.a.post(t.URL+"/users/login",e).then(function(e){return a(e.data)}).catch(function(e){return n(e)})})}},{key:"signUp",value:function(e){var t=this;return new Promise(function(a,n){return w.a.post(t.URL+"/users/register",e).then(function(e){return a(e.data)}).catch(function(e){return n(e)})})}},{key:"updateUser",value:function(e,t){var a=this;return new Promise(function(n,r){return w.a.post(a.URL+"/users/info/update",e,{params:{user_id:t}}).then(function(e){return n(e.data)}).catch(function(e){return r(e)})})}},{key:"getUser",value:function(e){var t=this;return new Promise(function(a,n){return w.a.get(t.URL+"/users/info",{params:{user_id:e}}).then(function(e){return a(e.data)}).catch(function(e){return n(e)})})}}]),e}(),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).userRepository=new k,a.state={show:!1,firstname:"",lastname:"",username:"",password:"",confirmPassword:""},a.handleShow=a.handleShow.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a.signUp=a.signUp.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1,firstname:"",lastname:"",username:"",password:"",confirmPassword:"",hasEmptyField:!1})}},{key:"signUp",value:function(e){if(this.state.password===this.state.confirmPassword&&this.state.firstname&&this.state.lastname&&this.state.username&&this.state.password){e.preventDefault();var t={first_name:this.state.firstname,last_name:this.state.lastname,user_name:this.state.username,user_password:this.state.password};this.userRepository.signUp(t).then(function(e){}).catch(function(e){}),this.handleClose()}else this.setState({hasEmptyField:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"link",onClick:this.handleShow},"Sign Up"),r.a.createElement(b.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Join us")),r.a.createElement(b.a.Body,null,r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"firstname"},"First Name: "),r.a.createElement("input",{id:"firstname",className:"form-control",type:"text",onChange:function(t){return e.setState({firstname:t.target.value})}})),r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"lastname"},"Last Name: "),r.a.createElement("input",{id:"lastname",className:"form-control",type:"text",onChange:function(t){return e.setState({lastname:t.target.value})}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{id:"username",className:"form-control",type:"text",onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{id:"password",className:"form-control",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password:"),r.a.createElement("input",{id:"confirmPassword",className:"form-control",type:"password",onChange:function(t){return e.setState({confirmPassword:t.target.value})}}))),this.state.hasEmptyField&&r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},"All fields must be filled")),r.a.createElement(b.a.Footer,null,r.a.createElement(E.a,{variant:"secondary",onClick:this.handleClose},"Close"),r.a.createElement(E.a,{variant:"primary",onClick:this.signUp},"Sign Up"))))}}]),t}(n.Component),_=a(45),N=a(208),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).userRepository=new k,a.verifyUser=function(){var e=Object(f.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={user_name:a.state.username,user_password:a.state.password},a.userRepository.login(n).then(function(e){return e&&(localStorage.setItem("token",e),a.props.login(),a.props.history.push("/home")),e.data}).catch(function(e){a.setState({validLogin:!1})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:null,password:null,validLogin:!0},a.verifyUser=a.verifyUser.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return localStorage.getItem("token")?r.a.createElement(_.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{sticky:"top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(N.a.Brand,{style:{textDecoration:"none",marginLeft:"1em"}},r.a.createElement("h3",null,"Recipeazy"))),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"form-horizontal login-form col-md-3 center-login shadow-lg"},r.a.createElement("h1",{className:"nobold"},"Login:"),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{id:"username",className:"form-control",type:"text",onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{id:"password",className:"form-control",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),!this.state.validLogin&&r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},"Invalid Username or password"),r.a.createElement("button",{type:"button",className:"btn btn-primary w-100 mb-2",onClick:this.verifyUser},"Log In")),r.a.createElement(S,{history:this.history,className:"center-sign"}))))}}]),t}(n.Component),j=(a(184),a(212)),O=a(210),C=a(200),R=function(){function e(){Object(s.a)(this,e),this.url="http://ec2-18-222-255-36.us-east-2.compute.amazonaws.com:4000"}return Object(l.a)(e,[{key:"getRecipes",value:function(){var e=this;return new Promise(function(t,a){w.a.get("".concat(e.url,"/all_recipes")).then(function(e){return t(e.data)}).catch(function(e){return alert("Could not get recipes")})})}},{key:"getRecipe",value:function(e){var t=this;return new Promise(function(a,n){w.a.get("".concat(t.url,"/recipe/"),{params:{recipe_id:e}}).then(function(e){return a(e.data)}).catch(function(e){return alert("Could not get recipe")})})}},{key:"getRecipeIngredients",value:function(e){var t=this;return new Promise(function(a,n){w.a.get("".concat(t.url,"/recipe/ingredients"),{params:{recipe_id:e}}).then(function(e){return a(e.data)}).catch(function(e){return alert("Could not get ingredients")})})}},{key:"getRating",value:function(e){var t=this;return new Promise(function(a,n){w.a.get("".concat(t.url,"/rating/").concat(e)).then(function(e){return a(e.data)})})}},{key:"addReview",value:function(e,t,a){var n=this;return new Promise(function(r,c){w.a.post("".concat(n.url,"/rating/add"),{recipe_id:e,rating_diff:t,rating_taste:a}).then(function(e){return r(e.data)}).catch(function(e){return alert("Could not add review")})})}},{key:"search",value:function(e){var t=this;return new Promise(function(a,n){w.a.get("".concat(t.url,"/search"),{params:{recipe_name:e}}).then(function(e){return a(e.data)}).catch(function(e){return alert("Could not search for query")})})}}]),e}(),I=R,F=a(16),L=(a(185),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).recipeRepo=new I,a.state={recipes:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderCarousel(),this.renderCarouselCard())}},{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.recipeRepo.getRecipes();case 2:t=e.sent,this.setState({recipes:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderCarousel",value:function(){return r.a.createElement("div",{className:"d-flex h-50 flex-column align-items-center"},r.a.createElement("h4",{style:{margin:20}},"Trending"),r.a.createElement("div",{className:"d-flex",style:{}},r.a.createElement("div",{className:"hide-card offset-1 col-3"},this.state.recipes.slice(9,10).map(function(e,t){return r.a.createElement(j.a,{bg:"dark",style:{maxHeight:"700px"},key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement(j.a.Img,{className:"rounded",variant:"top",src:e.image}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))})),r.a.createElement("div",{className:"col-xl-4 col-md-4 col-xs-12 align-items-center"},r.a.createElement(O.a,{className:"phone-trending fix-carousel",style:{maxHeight:"700px",maxWidth:"700px"}},this.state.recipes.map(function(e,t){return r.a.createElement(O.a.Item,{key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement("img",{className:"rounded trim d-block",src:e.image,alt:e.recipe_name}),r.a.createElement(O.a.Caption,null,r.a.createElement("h3",{style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))}))),r.a.createElement("div",{className:"hide-card col-3"},this.state.recipes.slice(7,8).map(function(e,t){return r.a.createElement(j.a,{bg:"dark",className:"",key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement(j.a.Img,{className:"rounded",variant:"top",src:e.image}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{bg:"dark",style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))}))))}},{key:"renderCarouselCard",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{margin:20}},"Recommended"),r.a.createElement(O.a,{className:"phone-trending fix-carousel",style:{maxHeight:"700px",margin:20}},r.a.createElement(O.a.Item,null,r.a.createElement(C.a,null,this.state.recipes.slice(0,5).map(function(e,t){return r.a.createElement(j.a,{bg:"dark",key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement(j.a.Img,{variant:"top",src:e.image}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{bg:"dark",style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))}))),r.a.createElement(O.a.Item,null,r.a.createElement(C.a,null,this.state.recipes.slice(5,10).map(function(e,t){return r.a.createElement(j.a,{bg:"dark",key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement(j.a.Img,{variant:"top",src:e.image}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{bg:"dark",style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))}))),r.a.createElement(O.a.Item,null,r.a.createElement(C.a,null,this.state.recipes.slice(10,15).map(function(e,t){return r.a.createElement(j.a,{bg:"dark",key:t},r.a.createElement(F.b,{to:"/recipes/".concat(e.recipe_id)},r.a.createElement(j.a.Img,{variant:"top",src:e.image}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{bg:"dark",style:{color:"white",fontWeight:"bold",textShadow:"black 0px 0px 10px"}},e.recipe_name))))})))))}}]),t}(r.a.Component)),U=a(108),P=a(207),A=a(201),D=a(110),B=a(206),W=a(111),T=(a(186),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).userRepository=new k,a.state={firstname:"",lastname:"",username:"",hasEmptyField:!1,edit:!0},a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleClose",value:function(){this.props.close(),this.setState({edit:!1})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.userRepository.getUser(t).then(function(t){e.setState({firstname:t[0].first_name,lastname:t[0].last_name,username:t[0].user_name})}).catch(function(e){return console.log(e)})}},{key:"updateInfo",value:function(){if(this.state.username&&this.state.lastname&&this.state.firstname){var e=localStorage.getItem("token"),t={first_name_update:this.state.firstname,last_name_update:this.state.lastname,user_name_update:this.state.username};this.userRepository.updateUser(t,+e).then(function(e){}).catch(function(e){return console.log(e)})}}},{key:"handleChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{dialogClassName:"modal-width-test",show:this.props.show,onHide:this.handleClose},r.a.createElement(B.a.Header,{closeButton:!0},"Account:"),r.a.createElement(B.a.Body,null,!this.state.edit&&r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-3"},"Username: "),r.a.createElement("span",{className:"col-9"},r.a.createElement("b",null,e.state.username))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-3"},"First Name: "),r.a.createElement("span",{className:"col-9"},r.a.createElement("b",null,e.state.firstname))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-3"},"Last Name: "),r.a.createElement("span",{className:"col-9"},r.a.createElement("b",null,e.state.lastname)))),this.state.edit&&r.a.createElement(P.a,null,r.a.createElement(P.a.Group,{as:A.a},r.a.createElement(P.a.Label,{column:!0,sm:"3"},"Username:"),r.a.createElement(D.a,{sm:"9"},r.a.createElement(P.a.Control,{name:"username",type:"text",value:e.state.username,onChange:e.handleChange.bind(e)}))),r.a.createElement(P.a.Group,{as:A.a},r.a.createElement(P.a.Label,{column:!0,sm:"3"},"First Name:"),r.a.createElement(D.a,{sm:"9"},r.a.createElement(P.a.Control,{name:"firstname",type:"text",value:e.state.firstname,onChange:e.handleChange.bind(e)}))),r.a.createElement(P.a.Group,{as:A.a},r.a.createElement(P.a.Label,{name:"lastname",column:!0,sm:"3"},"Last Name:"),r.a.createElement(D.a,{sm:"9"},r.a.createElement(P.a.Control,{name:"lastname",type:"text",value:e.state.lastname,onChange:e.handleChange.bind(e)}))),(!e.state.username||!e.state.lastname||!e.state.firstname)&&r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},"All fields must be filled"))),r.a.createElement(B.a.Footer,null,r.a.createElement(W.a,{variant:"primary",type:"button",onClick:function(){e.state.edit&&e.updateInfo(),e.setState({edit:!e.state.edit})}},this.state.edit?"Save":"Edit"),r.a.createElement(W.a,{onClick:this.handleClose},"Close"))))}}]),t}(n.Component)),q=a(211),z=a(209),M=a(109),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showAccount:!1,logout:!1,search:!1,searchValue:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggleAccount",value:function(){this.setState({showAccount:!this.state.showAccount})}},{key:"search",value:function(){this.setState({search:!0})}},{key:"componentDidUpdate",value:function(){this.state.search&&this.setState({search:!1})}},{key:"render",value:function(){var e=this;return this.state.search?r.a.createElement(_.a,{to:"/search/".concat(this.state.searchValue)}):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{sticky:"top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(q.a.Link,{as:F.c,to:"/home",style:{color:"white",textDecoration:"none"}},r.a.createElement("h3",null,"Recipeazy")),r.a.createElement(N.a.Toggle,null),r.a.createElement(N.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(q.a,{className:"mr-auto"},r.a.createElement(z.a,{className:"flow-right",id:"dropdown-menu-align-right",title:"Account"},r.a.createElement(z.a.Item,{onClick:function(){return e.toggleAccount()}},"Account"),r.a.createElement(z.a.Divider,null),r.a.createElement(z.a.Item,{style:{backgroundColor:"white",color:"black"},as:F.c,to:"/",onClick:function(){localStorage.removeItem("token"),e.props.logout()}},"Logout")),r.a.createElement(q.a.Link,{as:F.c,to:"/home"},"Home"),r.a.createElement(q.a.Link,{as:F.c,to:"/ingredient"},"Ingredients"))),r.a.createElement(P.a,{inline:!0,onSubmit:function(){return e.search()}},r.a.createElement(M.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:function(t){return e.setState({searchValue:t.target.value})}}),r.a.createElement(W.a,{className:"float-right",variant:"outline-info",onClick:function(){e.search()}},"Search"))),r.a.createElement(T,{show:this.state.showAccount,close:function(){return e.toggleAccount()}}))}}]),t}(n.Component),G=function e(t,a,n){Object(s.a)(this,e),this.ingredient_name=t,this.amount=a,this.unit=n},J=a(116),V=a(117),Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).url="http://ec2-18-222-255-36.us-east-2.compute.amazonaws.com:4000",a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getIngredients",value:function(){var e=this;return new Promise(function(t,a){return w.a.get(e.url+"/users/pantry?user_id=".concat(localStorage.getItem("token"))).then(function(e){return t(e.data)}).catch(function(e){return alert("Could not load your ingredients")})})}},{key:"deleteIngredient",value:function(e){var t=this;return new Promise(function(a,n){w.a.post("".concat(t.url,"/users/pantry/delete?user_id=").concat(localStorage.getItem("token")),{ingredient_name:e.ingredient_name}).then(function(e){return a(e.data)}).catch(function(e){return alert("Could not delete ingredient")})})}},{key:"addIngredient",value:function(e){var t=this;return new Promise(function(a,n){w.a.post("".concat(t.url,"/users/pantry/add?user_id=").concat(localStorage.getItem("token")),{ingredient_name:e.ingredient_name,amount:e.amount,unit:e.unit}).then(function(e){return a(e.data)}).catch(function(e){return alert("Invalid Ingredient")})})}}]),t}(r.a.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).ingredientsRepo=new Q,a.state={ingredients:[{ingredient_name:"",amount:"",unit:""}],currentname:"",currentquantity:0,currentunit:""},a.amountunits=["piece","cup","qt","gal","fl. oz","pt","tbsp","tsp","drop","dash"],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"RenderIngredientList",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped table-condensed"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Ingredient"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.ingredients.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.ingredient_name),r.a.createElement("td",null,t.amount," ",t.unit,t.amount>1&&0!==t.unit?"s":""),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(a){return e.onDelete(t.ingredient_name)}},r.a.createElement(J.a,{icon:V.a}))))}))))}},{key:"onSubmit",value:function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.currentname||0===this.state.currentquantity){e.next=4;break}return e.next=3,this.ingredientsRepo.addIngredient(new G(this.state.currentname,this.state.currentquantity,this.state.currentunit));case 3:this.setState({currentname:"",currentquantity:0,currentunit:""});case 4:this.componentDidMount();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.ingredients.map(function(e){return e.ingredient_name}).indexOf(t),e.next=3,this.ingredientsRepo.deleteIngredient(this.state.ingredients[a]);case 3:this.componentDidMount();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ml-3 mr-3 mt-3"},this.RenderIngredientList(),r.a.createElement("div",{className:"mt-5 w-100 d-flex flex-column align-items-center"},r.a.createElement("form",{className:"input-form form-inline",onSubmit:function(){return e.onSubmit()}},r.a.createElement("div",{className:"form-group font-weight-bold"},r.a.createElement("label",{htmlFor:"ingredient-name",className:"mr-2"},"Name"),r.a.createElement("input",{type:"text",id:"ingredient-name",name:"ingredient-name",className:"form-control mr-3",style:{backgroundColor:"#E8E8EE"},value:this.state.currentname,onChange:function(t){return e.setState({currentname:t.target.value})}})),r.a.createElement("div",{className:"form-group mr-2 font-weight-bold"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity"),r.a.createElement("select",{id:"quantity",name:"quantity",className:"form-control ml-3",style:{backgroundColor:"#E8E8EE"},value:this.state.currentquantity,onChange:function(t){return e.setState({currentquantity:t.target.value})}},r.a.createElement("option",null),[1,2,3,4,5,6,7,8,9].map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"form-group mr-2 font-weight-bold"},r.a.createElement("label",{htmlFor:"unit"},"Unit"),r.a.createElement("select",{id:"unit",name:"unit",className:"form-control ml-3",style:{backgroundColor:"#E8E8EE"},value:this.state.currentunit,onChange:function(t){return e.setState({currentunit:t.target.value})}},r.a.createElement("option",null),this.amountunits.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",{className:"d-flex flex-column",style:{maxWidth:"200px",width:"80%"}},r.a.createElement("button",{style:{marginTop:"1rem"},onClick:function(t){return e.onSubmit()},className:"btn btn-primary"},"Add"))))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ingredientsRepo.getIngredients();case 2:t=e.sent,this.setState({ingredients:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component),K=a(202),X=a(203),Y=a(204),Z=(a(196),function(e){return r.a.createElement("span",{className:"stars"},[1,2,3,4,5].map(function(t){return r.a.createElement("i",{key:t,className:t>e.value?"empty-star":"full-star"})}))}),ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={diff_rating:0,taste_rating:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onRatingAdded",value:function(){0!==this.state.diff_rating&&0!==this.state.taste_rating&&(this.props.onNewRating(this.state.diff_rating,this.state.taste_rating),this.setState({diff_rating:0,taste_rating:0}))}},{key:"render",value:function(){var e=this;return r.a.createElement(P.a,{color:"grey"},r.a.createElement(j.a,null,r.a.createElement(j.a.Body,null,r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:D.a,controlId:"StarSelect"},r.a.createElement(P.a.Label,null,"Difficulty Rating"),r.a.createElement(P.a.Control,{as:"select",value:this.state.diff_rating,onChange:function(t){return e.setState({diff_rating:t.target.value})}},[0,1,2,3,4,5].map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(P.a.Group,{as:D.a,controlId:"StarSelect",style:{margin:"2em 0em 0em 0em"}},r.a.createElement(Z,{value:this.state.diff_rating}))),r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:D.a,controlId:"StartSelect"},r.a.createElement(P.a.Label,null,"Taste Rating"),r.a.createElement(P.a.Control,{as:"select",value:this.state.taste_rating,onChange:function(t){return e.setState({taste_rating:t.target.value})}},[0,1,2,3,4,5].map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(P.a.Group,{as:D.a,controlId:"StarSelect",style:{margin:"2em 0em 0em 0em"}},r.a.createElement(Z,{value:this.state.taste_rating}))),r.a.createElement(W.a,{variant:"primary",type:"button",onClick:function(t){return e.onRatingAdded()}},"Submit"))))}}]),t}(r.a.Component),te=function(){function e(){Object(s.a)(this,e),this.url="http://ec2-18-222-255-36.us-east-2.compute.amazonaws.com:4000"}return Object(l.a)(e,[{key:"getFavorites",value:function(){var e=this;return new Promise(function(t,a){w.a.get("".concat(e.url,"/users/favorite?user_id=").concat(localStorage.getItem("token"))).then(function(e){return t(e.data)}).catch(function(e){return alert(e)})})}},{key:"addFavorite",value:function(e){var t=this;return new Promise(function(a,n){w.a.post("".concat(t.url,"/users/favorite/add?user_id=").concat(localStorage.getItem("token")),{recipe_id:e}).then(function(e){return a(e.data)}).catch(function(e){return alert(e)})})}},{key:"deleteFavorite",value:function(e){var t=this;return new Promise(function(a,n){w.a.post("".concat(t.url,"/users/favorite/delete?user_id=").concat(localStorage.getItem("token")),{recipe_id:e}).then(function(e){return a(e.data)}).catch(function(e){return alert(e)})})}}]),e}(),ae=(a(197),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).recipeRepo=new R,a.favoriteRepository=new te,a.state={recipe:{recipe_id:0,recipe_name:"",how_to_cook:"",cuisine_type:"",image:"",rating_diff:0,rating_taste:0},ingredients:[]},a.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onNewRating",value:function(e,t){this.recipeRepo.addReview(this.state.recipe.recipe_id,e,t)}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(_.a,{to:this.state.redirect}):r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{marginBottom:20}},this.renderJumbo(),r.a.createElement(ee,{onNewRating:function(t,a){return e.onNewRating(t,a)}})))}},{key:"averageRatingDiff",value:function(){var e=this.state.recipe.rating_diff.reduce(function(e,t){return e+t});return Math.ceil(e/this.state.recipe.rating_diff.length)}},{key:"averageRatingTaste",value:function(){var e=this.state.recipe.rating_taste.reduce(function(e,t){return e+t});return Math.ceil(e/this.state.recipe.rating_taste.length)}},{key:"renderJumbo",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{bg:"dark",className:"text-center"},r.a.createElement("div",{className:"d-flex mb-3 justify-content-center",style:{width:"100%"}},r.a.createElement("img",{className:"recipe-pic",src:this.state.recipe.image,alt:"Product Pic"})),r.a.createElement("div",{className:"d-flex align-items-center flex-column"},r.a.createElement("h3",null,r.a.createElement(Y.a,{variant:"primary"},this.state.recipe.cuisine_type)),r.a.createElement("h1",{className:"font-weight-bold"},this.state.recipe.recipe_name)),r.a.createElement("div",{className:"d-flex ratings justify-content-between align-items-center mb-3"},r.a.createElement("div",{className:"font-weight-bold"},"Taste:",r.a.createElement(Z,{value:this.state.recipe.rating_taste})),r.a.createElement("div",{className:"font-weight-bold"},"Difficulty:",r.a.createElement(Z,{value:this.state.recipe.rating_diff}))),r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement("h2",null,"Ingredients:"),r.a.createElement("ul",{className:"ingredients w-75 list-group"},this.state.ingredients.map(function(t,a){return r.a.createElement("li",{key:a,className:"list-group-item d-flex justify-content-between m-1"},r.a.createElement("div",{className:"font-weight-bold"},"".concat(e.capitalize(t.ingredient_name)," ").concat("null"===t.notes?"":"("+t.notes+")")),r.a.createElement("div",null,"".concat("null"===t.amount?"":t.amount," ").concat("null"===t.unit?"":t.unit).concat(t.amount>1&&"null"!==t.unit?"s":"")))})),r.a.createElement("h2",{className:"mt-2"},"Recipe:"),r.a.createElement("div",{className:"d-flex flex-column text-left"},this.state.recipe.how_to_cook.split("\n").map(function(e,t){return r.a.createElement("p",{key:t},e)}))),r.a.createElement("div",{style:{clear:"left"}}),r.a.createElement(D.a,{md:{offset:5}})),";")}},{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.recipeRepo.getRecipe(this.props.match.params.recipe_id);case 2:return void 0!==(t=e.sent)&&this.setState({recipe:t[0]}),e.next=7,this.recipeRepo.getRecipeIngredients(this.props.match.params.recipe_id);case 7:void 0!==(a=e.sent)&&this.setState({ingredients:a});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component)),ne=a(205),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).recipeRepo=new R,a.state={recipes:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.recipeRepo.search(this.props.match.params.search).then(function(t){e.setState({recipes:t})}).catch(function(e){return alert(e)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.recipeRepo.search(e.match.params.search).then(function(e){t.setState({recipes:e})}).catch(function(e){return alert(e)})}},{key:"render",value:function(){return 0===this.state.recipes.length?r.a.createElement(ne.a,{variant:"info"},"No recipes found"):r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("tbody",null,this.state.recipes.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(F.b,{style:{color:"white"},to:"/recipes/".concat(e.recipe_id)},e.recipe_name)))}))))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).updateLoginState=function(e){localStorage.getItem("token")?a.setState({loginState:!0}):a.setState({loginState:!1})},a.state={loginState:!!localStorage.getItem("token")},a.updateLoginState=a.updateLoginState.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app-routes"},this.state.loginState&&r.a.createElement(H,{logout:this.updateLoginState}),r.a.createElement(_.d,null,this.state.loginState&&r.a.createElement(_.b,{path:"/home",exact:!0,component:L}),this.state.loginState&&r.a.createElement(_.b,{path:"/ingredient",exact:!0,component:$}),this.state.loginState&&r.a.createElement(_.b,{path:"/recipes/:recipe_id",exact:!0,component:ae}),this.state.loginState&&r.a.createElement(_.b,{path:"/search/:search?",exact:!0,component:re}),r.a.createElement(_.b,{path:"/",render:function(t){return r.a.createElement(x,Object.assign({},t,{isLoggedIn:e.state.loginState,login:e.updateLoginState}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(198);i.a.render(r.a.createElement(F.a,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.98524aa4.chunk.js.map